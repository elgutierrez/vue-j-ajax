/*!
    Title: vue-j-ajax
    URL: https://github.com/lilpug/vue-j-ajax
    Version: 1.0.0
    Author: David Whitehead
    Copyright (c) David Whitehead
    Copyright license: MIT
    Description: vue-j-ajax is a simple vuejs plugin which wraps jQuery AJAX calls up and sends any data in the form data format.	         
    Requires: jQuery 2.2+
*/
var VueJAjax={install:function(e,a){e.prototype.$ConvertObjectToFormData=function(e){var a=new FormData;return $.each(e,function(e,t){null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t?a.append(e,t):$.each(t,function(t,l){a.append(e,l)})}),a},e.mixin({data:function(){return{fileUploadProgress:{totalSize:null,currentUploadSize:null,percentage:null,roundedPercentage:null}}},methods:{VueJAjaxClearProgressData:function(){this.fileUploadProgress.totalSize=null,this.fileUploadProgress.currentUploadSize=null,this.fileUploadProgress.percentage=null,this.fileUploadProgress.roundedPercentage=null},VueJAjax:function(e){defaultOptions={parameters:null,method:null,url:null,dataReturnType:null,doneCallBack:null,failCallBack:null,timeout:864e5};var a=null;return(e=Object.assign(defaultOptions,e)).parameters&&(a=this.$ConvertObjectToFormData(e.parameters)),$.ajax({type:e.method,url:e.url,timeout:e.timeout,contentType:!1,processData:!1,dataType:e.dataReturnType,data:a}).fail(function(a){e.failCallBack&&e.failCallBack(a)}).done(function(a){e.doneCallBack&&e.doneCallBack(a)})},VueJAjaxFileUpload:function(e){defaultOptions={parameters:null,method:null,url:null,dataReturnType:null,doneCallBack:null,failCallBack:null,calculateProgress:!0,autoClearProgress:!1,timeout:864e5};var a=null;(e=Object.assign(defaultOptions,e)).parameters&&(a=this.$ConvertObjectToFormData(e.parameters));var t=null;return e.calculateProgress&&(t=function(e){function a(e){if(0===e)return"0 Byte";var a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)+" "+a[t]}if(e.lengthComputable){var t=e.total,l=e.loaded;this.fileUploadProgress.totalSize=a(t),this.fileUploadProgress.currentUploadSize=a(l);var r=100*l/t;r>=100?(this.fileUploadProgress.percentage="100%",this.fileUploadProgress.roundedPercentage="100%"):(this.fileUploadProgress.percentage=r+"%",this.fileUploadProgress.roundedPercentage=Math.round(r)+"%")}}.bind(this)),$.ajax({type:e.method,url:e.url,timeout:e.timeout,xhr:function(){var a=$.ajaxSettings.xhr();return a.upload&&e.calculateProgress&&a.upload.addEventListener("progress",function(e){t(e)},!1),a},contentType:!1,processData:!1,dataType:e.dataReturnType,data:a}).fail(function(a){e.calculateProgress&&e.autoClearProgress&&this.VueClearProgressData(),e.failCallBack&&e.failCallBack(a)}.bind(this)).done(function(a){e.calculateProgress&&e.autoClearProgress&&this.VueClearProgressData(),e.doneCallBack&&e.doneCallBack(a)}.bind(this))}}})}};